    
{% extends "base/base.html" %}
{% load staticfiles %}
{% load crispy_forms_tags %}

{% block navTitle %}
{{actividad.nombre}}
{% endblock %}


{% block extracss %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.1/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://raw.githubusercontent.com/twbs/bootstrap-sass/master/assets/stylesheets/bootstrap/_glyphicons.scss">
<style>
    .btn-file{
        background-color: rgb(155, 16, 30) !important;
        border-color: rgb(155, 16, 30) !important;
    }
    button.btn-file:hover{
        background-color: rgb(176, 129, 134) !important;
        border-color: rgb(176, 129, 134) !important;
        color: white !important;
    }
    label{
        font-weight: bold;
    }
</style>
{% endblock extracss %}


{% block content %}
    <div class="container bg-transparent">
        <form id="id_form_actividad" action="" 
        method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form|crispy }}
            <label for="input-42-es">Evidencia</label>
            <div class="file-loading">
                    <input required class="guinda" 
                    id="input-42-es" data-show-upload="false" 
                    name="archivos" type="file">
                </div> 
            <div class="d-flex justify-content-center mt-5">
                    <button class="btn btn-primary guinda" id="id_btn_segunda_parte" 
                    type="submit">
                        Registrar &nbsp;<i class="fas fa-check"></i>
                    </button>
                    </div>
        </form>

    </div>

    
    

{% endblock content %}



{% block extrascripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.1/js/fileinput.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.1/js/plugins/piexif.min.js" type="text/javascript"></script>
<script src="{%static 'js/fa-theme.js'%}"></script>
<!-- sortable.min.js is only needed if you wish to sort / rearrange files in initial preview. 
    This must be loaded before fileinput.min.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.1/js/plugins/sortable.min.js" type="text/javascript"></script>
<!-- purify.min.js is only needed if you wish to purify HTML content in your preview for 
    HTML files. This must be loaded before fileinput.min.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.1/js/plugins/purify.min.js" type="text/javascript"></script>
<script src="{%static 'js/es.js'%}"></script>
<script>
    //esperaoms 1 segundo para que carguen todos los archivos
    setTimeout(() => {
        $("#input-42-es").fileinput({
            language:"es",
            theme: "fa",
            maxFileCount: 1,
            allowedFileExtensions: ["pdf"],
            maxFileSize: 10000
        });
        }, 1000);
        $( "#id_form_actividad" ).submit(function( event ) {
            console.log($('#input-42-es'));
            // if ($('#input-42-es') {
            //     console.log('hooooliii');
            // }else{
            // this.submit()

            // }

            event.preventDefault();
      });
</script>
{% endblock %}